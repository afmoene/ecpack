$Id$

Changelog of ec_ncdf
Revision 1.05/1.06: September 18, 2000: 
          - changed in physconst.inc the sensitivity of Krypton to O2 from 
	    old 'Webb' value (0.0085) to  Arjan van Dijk's value
	    (0.0038 m^3 g^-1 cm^-1)
          - added support for wind tunnel calibrated sonic anemometer
	    (see description in readme)
Revision 1.07/1.08: October 18, 2000: 
          - in calibration of wind tunnel calibrated sonic: check for valid
	    wind direction before interation
Revision 1.09: November 1, 2000: 
          - check for validity of Tref (for thermocouple calibration) 
	    -> Tref is in Celcius, not Kelvin !
          - fixed error in sonic calibration (azimuth angle replaced 
	    elevation angle)
Revision 1.10: February 28, 2001:
          - fixed an error in computation of density of dry air (it was 
	    correct in the original version of ECpack but incorrectly 
	    changed by me (AM).
Revision 1.11: April 3, 2001: 
          - added output of mean W and its tolerance (as obtained before 
	    tilt correction. Data are written to additional column in flux 
	    file
Revision 1.12/1.13: May 28, 2001:
          - reading of NetCDF data speeded up considerably, especially at
	    end of file: now seek in file where data should be read (rather
	    than crawling through it, sample by sample)
          - now we can deal with files without sonic temperatures. In those
	    calibrations where temperature is needed, sonic temperature
	    is automatically replaced by thermocouple temperature.
Revision 1.14: May 30, 2001:
          - Made search for time interval more robust (also works if sample
	    at start of interval is not present.
	  - Now take care that some quantities derived with missing data
	    (i.e. variances etc.) are flagged in the output as dummy (-9999).
	    This is not yet finished.
	  - Now also dump min/max of samples to intermediate results file
	    (not to flux file !)
Revision 1.15: May 31, 2001:
          - Search for time interval even more robust. If interval starts
	    before start of file, first sample in the file is supposed to
	    be the start of the interval. If the interval ends beyond end 
	    of file, the interval is now supposed to run until the last
	    sample in the file.
          - Fixed a bug that erroneously flagged some covariances as invalid
	    after axis rotation (bug appeared in previsou revision)
Revision 1.16: Jun 11, 2001
          - Added Mierij Lymann-Alpha hygrometer as an apparatus (number 7).
          - Oxygen correction for hygrometer now depends on type of hygrometer
           (either Lymann-Alpha or Krypton).
          - Swapped names of Yaw and Pitch routines and variables. In 
	    the configuration and calibration files the switches for the 
	    rotations are still read in the correct order (so with names
	    swapped: Yaw-correction to make Mean(V) --> 0, 
	    Pitch-correction to make Mean(W) --> 0). In other words: do not
	    change the configuration files; this change is purely internal.
          - now unkown values should appear in output as dummies (-9999)
	  - search for interval in data file now also can handle files 
	    without a 'seconds' variable.
Revision 1.17: June 11, 2001
          - fixed bug in search for interval when no seconds info is present
	    in file
          - in search for interval: sometimes first period of data was
	    erroneously assumed to be not present: fixed.
Revision 1.18: June 12, 2001
          - Removed write statement that did writing to intermediate results
	    file while file was not open (gave fort.14 file)
          - Removed redunant debugging write statement
	  - Now report version number and RCS-Id of ec_ncdf.f at startup
Revision 1.19: Jun 14, 2001
          - in time interval searching: skip points at start of file
	    and at end of file for which either DOY or HOURMIN is negative.
	    In this way missing values for either DOY or HOURMIN (-32767)
	    are not spoiling the search routine.
Revision 1.20: June 21, 2001
          - inclusion of planar fit method in ecpack.f
	  - inclusion correction for obstruction in ecpack.f
	  - change in ECMapVec in ecpack.f: indices of mapping interchanged
	  - indices interchanged in mappings in routines that use ECMapVec
	    (implicitly: ECKRoll, ECKYaw and ECKPitch)
	  - change in ECMapMtx in ecpack.f: indices of mapping interchanged
	  - indices interchanged in mappings in routines that use ECMapMtx:
	    ECRotate)
          - MaxRhoV in physcnst.inc changed from 100 to 1 (in kg/m3 !!)
Revision 1.21: June 25, 2001
          - fixed error in time interval search routine (now really discards
	    samples with incorrect DOY and/or HOURMIN.
Reivision 1.22: August 2, 2001
          - Yaw and Pitch changed in numbers of variables of calibration
	    constants (QQYaw and QQPitch) in parcnst.inc.
          - Changed rotation of samples in calibration routine (rotated
	    over 180 degrees less)
          - inverted V-velocities in calibration routine (this is at least 
	    valid -apparently- for the CSAT3).
Revision 1.23: October 31, 2001
          - included updated planerfit routines (in fact the ones in the
	    previous revision where older than available at that moment);
	    the dimensions of UMean are reversed relative to what 
	    Arjan has.
          - fixed bug in ECCorrec when tilt-correction is done
	    with known angles (arguments of ECKYaw, ECKPitch and ECKRoll
	    were incorrect)
          - in ECReadNetCDF: now handle correctly the situation
	    when there are no samples in the file
          - removed HAVE_UNCAL from argument list of ECYaw
Revision 2.00: November 1, 2001
          - Routines have been renamed and grouped in appropriate files
	  - A start has been made to separate different functions in 
	    corrections: calculate correction and subsequently apply it.
Revision 2.01: February 13, 2002
          - Now empty NetCDF files are dealt with correctly (empty
	    in the sense of: no samples).
          - Maximum number of samples is jumped to 100000. This allows
	    analysis of 83 minutes of data sampled at 20 Hz.

